<%- include('partials/header', {title: 'Authors'}) %>

<!-- define form action and method -->
<% const formAction = `/authors/${locals.data.id}/edit?_method=PUT` %>

<form
	action="<%= formAction %>"
	method="post"
	class="px-6 mt-22 mb-6 flex flex-col gap-5">
	<h1 class="text-center text-2xl"><%= title %></h1>

	<div class="flex flex-col">
		<label for="name" class="uppercase text-sm text-zinc-600 font-light mb-1"
			>Name *</label
		>
		<input
			type="text"
			id="name"
			name="name"
			value="<%= locals.data?.name ?? ''%>"
			class="border border-zinc-300 outline-none px-3 py-2 rounded-md" />
		<% if (locals.errors?.name) { %>
		<p class="text-sm text-red-500 mt-1"><%= errors.name.msg %></p>
		<% } %>
	</div>

	<div class="flex flex-col">
		<fieldset>
			<legend class="uppercase text-sm text-zinc-600 font-light mb-1">
				gender
			</legend>

			<div class="border border-zinc-300 px-3 py-2 rounded-md">
				<div class="flex items-center gap-10">
					<div class="flex items-center gap-2">
						<input type="radio" name="gender" id='male' value="male" <%=
						locals.data?.gender === 'male' ? 'checked' : '' %> />
						<label for="male" class="capitalize text-base font-light">
							male
						</label>
					</div>

					<div class="flex items-center gap-2">
						<input type="radio" name="gender" id='female' value="female" <%=
						locals.data?.gender === 'female' ? 'checked' : '' %> />
						<label for="female" class="capitalize text-base font-light">
							female
						</label>
					</div>
				</div>
			</div>
		</fieldset>
		<% if (locals.errors?.gender) { %>
		<p class="text-sm text-red-500 mt-1"><%= errors.gender.msg %></p>
		<% } %>
	</div>

	<div class="flex flex-col">
		<label
			for="nationality"
			class="uppercase text-sm text-zinc-600 font-light mb-1"
			>nationality</label
		>
		<input
			type="text"
			id="nationality"
			name="nationality"
			value="<%= locals.data?.nationality ?? ''%>"
			class="border border-zinc-300 outline-none px-3 py-2 rounded-md" />
		<% if (locals.errors?.nationality) { %>
		<p class="text-sm text-red-500 mt-1"><%= errors.nationality.msg %></p>
		<% } %>
	</div>

	<div class="flex flex-col">
		<label for="dob" class="uppercase text-sm text-zinc-600 font-light mb-1"
			>date of birth</label
		>
		<input
			type="date"
			id="dob"
			name="dob"
			value="<%= locals.data?.dob ?? ''%>"
			class="border border-zinc-300 outline-none px-3 py-2 rounded-md" />
		<% if (locals.errors?.dob) { %>
		<p class="text-sm text-red-500 mt-1"><%= errors.dob.msg %></p>
		<% } %>
	</div>

	<div class="flex flex-col">
		<label for="bio" class="uppercase text-sm text-zinc-600 font-light mb-1"
			>Biography</label
		>
		<textarea
			name="bio"
			id="bio"
			rows="6"
			class="border border-zinc-300 outline-none px-3 py-2 rounded-md">
<%= locals.data?.bio ?? ''%></textarea
		>

		<% if (locals.errors?.bio) { %>
		<p class="text-sm text-red-500 mt-1"><%= errors.bio.msg %></p>
		<% } %>
	</div>

	<div class="flex gap-5">
		<button
			id="form-cancel-btn"
			type="button"
			class="w-full bg-blue-500 py-1 px-2 rounded-md border-none text-zinc-50 uppercase">
			Cancel
		</button>

		<button
			type="submit"
			class="w-full bg-blue-500 py-2 px-2 rounded-md border-none text-zinc-50 uppercase">
			Submit
		</button>
	</div>
</form>
